import{a8 as h,r as n,j as e,N as g,a9 as f,aa as p,ab as j,ac as N,ad as a,Q as C,S as w,T as L,a as o,U as v,ae as y,L as S}from"./index-mUdrvzi8.js";import{C as b}from"./cat-D0Ocf266.js";function R(){const{data:c,isLoading:d}=h(),[t,i]=n.useState(""),[l,x]=n.useState("");if(console.log(c),d)return e.jsx("p",{className:"text-center mt-10",children:"Loading rides..."});const r=c?.data?.filter(s=>{const m=s.pickUpLocation?.address.toLowerCase().includes(t.toLowerCase())||s.dropOffLocation?.address.toLowerCase().includes(t.toLowerCase())||s.driverUserName.toLowerCase().includes(t.toLowerCase())||s.riderUserName.toLowerCase().includes(t.toLowerCase()),u=l==="ALL"||!l?!0:s.status===l;return m&&u});return e.jsxs("div",{className:"container mx-auto p-4 py-30  space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Ride history"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[e.jsx(g,{placeholder:"Search by rides",value:t,onChange:s=>i(s.target.value),className:"flex-1"}),e.jsxs(f,{onValueChange:x,value:l,className:"w-48",children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Filter by status"})}),e.jsxs(N,{children:[e.jsx(a,{value:"ALL",children:"All"}),e.jsx(a,{value:"REQUESTED",children:"Requested"}),e.jsx(a,{value:"CANCELLED",children:"Cancelled"}),e.jsx(a,{value:"ACCEPTED",children:"Accepted"}),e.jsx(a,{value:"IN_TRANSIT",children:"In Transit"}),e.jsx(a,{value:"COMPLETED",children:"Completed"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r&&r.length>0?r.map(s=>e.jsxs(C,{className:"shadow-md hover:shadow-lg transition-shadow",children:[e.jsxs(w,{className:"flex flex-col gap-2",children:[e.jsxs(L,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(o,{className:"h-5 w-5 text-blue-600"}),s.pickUpLocation?.address]}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:[e.jsx(o,{className:"h-4 w-4 text-red-600"})," ",s.dropOffLocation?.address]})]}),e.jsxs(v,{className:"flex flex-col gap-2 h-full justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between text-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"h-4 w-4 text-green-600"})," ",s.fare.toFixed(2)," tk"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"h-4 w-4 text-gray-500"})," ",new Date(s.requestedAt).toLocaleString()]})]}),e.jsxs("div",{className:"flex w-full justify-between items-center pt-3",children:[e.jsx("div",{className:`text-sm font-semibold px-2 py-1 inline-block rounded ${s.status==="REQUESTED"?"bg-yellow-100 text-yellow-800":s.status==="IN_TRANSIT"?"bg-blue-100 text-blue-800":s.status==="ACCEPTED"?"bg-violet-100 text-sky-800":"bg-green-100 text-green-800"}`,children:s.status.replace("_"," ")}),e.jsx(S,{to:`/ride/ride-info/${s._id}`,className:"px-3 py-1 text-sm font-mono bg-sky-200 rounded-md shadow",children:"View"})]})]})]},s._id)):e.jsx("p",{className:"text-gray-500 col-span-full text-center",children:"No rides found."})})]})}export{R as default};
